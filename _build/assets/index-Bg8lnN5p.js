import{m as delegateEvents,b as createSignal,n as getNextElement,C as setAttribute,t as insert,p as spread,q as mergeProps,h as createComponent,w as runHydrationEvents,F as For,x as template,d as createRenderEffect,D as className,G as setProperty,B as getNextMarker,T as Title}from"./index-BDriT34_.js";const styles={};var _tmpl$$8=template('<div class="flex mb-6 flex-col"><label class="text-left block mb-2 text-sm font-medium text-gray-900 dark:text-white"></label><div class="flex mb-6"><div class="relative w-full"><input></div><button class="flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-gray-900 bg-gray-100 border border-gray-300 rounded-e-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700 dark:text-white dark:border-gray-600"type=button></button><div class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-36 dark:bg-gray-700"><ul class="py-2 text-sm text-gray-700 dark:text-gray-200">'),_tmpl$2$2=template('<li><button type=button class="inline-flex w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white"role=menuitem><div class="inline-flex items-center">');function NumberInputSelect({id:l,label:i,select:o,value:a,onKeyUp:n,onChange:t}){const[r,s]=createSignal(a),d=g=>{const u={...r(),selected:g};s(u),t&&t(u),n&&n(u)},f=g=>{const u={...r(),value:+g.target.value};s(u),t&&t(u),n&&n(u)};return(()=>{var g=getNextElement(_tmpl$$8),u=g.firstChild,x=u.nextSibling,m=x.firstChild,$=m.firstChild,b=m.nextSibling,p=b.nextSibling,_=p.firstChild;return setAttribute(u,"for",l),insert(u,i),spread($,mergeProps({get value(){return r().value}},n?{onKeyUp:f}:{},t?{onChange:f}:{},{type:"number",id:l,class:"block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-s-lg border-e-gray-50 border-e-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-e-gray-700  dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",required:!0}),!1,!1),setAttribute(b,"id",`${i}dropdown-fiat-number-button`),setAttribute(b,"data-dropdown-toggle",`${i}dropdown-fiat-number`),insert(b,()=>o[r().selected].label),setAttribute(p,"id",`${i}dropdown-fiat-number`),insert(_,createComponent(For,{each:o,children:v=>(()=>{var h=getNextElement(_tmpl$2$2),k=h.firstChild,y=k.firstChild;return h.$$click=()=>d(v.id),insert(y,()=>v.label),runHydrationEvents(),h})()})),runHydrationEvents(),g})()}delegateEvents(["click"]);var _tmpl$$7=template('<div class=mb-6><label class="text-left block mb-2 text-sm font-medium text-gray-900 dark:text-white"></label><input type=number class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">');function NumberInput(l){const{label:i,select:o}=l,a=(l.label||"")+Math.random();return o?createComponent(NumberInputSelect,mergeProps({id:a},l)):(()=>{var n=getNextElement(_tmpl$$7),t=n.firstChild,r=t.nextSibling;return setAttribute(t,"for",a),insert(t,i),setAttribute(r,"id",a),spread(r,l,!1,!1),runHydrationEvents(),n})()}const initialPeriodOptions=[{id:0,label:"Years"},{id:1,label:"Months"}],initialState={initial:0,installment:0,interest:0,incomeTax:0,period:{value:0,selected:0}},[form,setForm]=createSignal(initialState),[transactions,setTransactions]=createSignal([]),[results,setResults]=createSignal([]),[breakInstallments,setBreakInstallments]=createSignal(-1);Number.prototype.d=function(){return+this.toFixed(2)};const calculator=(l,i,o,a,n,t=[],r=-1)=>{const s=[{row:0,info:{total:l,interest:0,invested:l},balance:{gross:0,incometax:0,net:0}}];let d=+l,f=+l,g=0;const u=o/100;for(let x=1;x<a+1;x++){const $=f*Math.pow(1+u,.08333333333333333)-f;let b=t[x]?t[x].value:i;r>-1&&a-x>r&&(b=0),d+=b,g+=$;const p=$*(n/100),_=$-p;s.push({row:x,info:{total:(d+g).d(),interest:g.d(),invested:d},balance:{gross:$.d(),incometax:p.d(),net:_.d()}}),f+=b+$}return s},calculateForm=()=>{const l=form();console.log("((( ",breakInstallments());const{period:i,initial:o,interest:a,incomeTax:n,installment:t}=l,r=i.selected?1:12,s=calculator(o,t,a,i.value*r,n,transactions(),breakInstallments()).reverse();setResults(s)},formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),c=l=>formatter.format(l),absDecimals=l=>c(l).slice(1);var _tmpl$$6=template("<button>");Number.prototype.fixed=function(){return`${absDecimals(this)}`};function TransactionButton({index:l,result:i}){const o=t=>{const r=prompt(`Transaction on month ${t}`,0),s=[...transactions()];let d=+r;isNaN(d)&&(d=0),s[t]=d!==0?{row:t,value:+r}:void 0,setTransactions(s),calculateForm()},a=()=>{const t=transactions();if(!t)return"p-2 text-white";const{row:r}=i,s=t[r];return!s||s.value===0?"p-2 text-white":s.value>0?"p-2 text-green-700 text-xs":"p-2 text-red-700 text-xs"},n=()=>{if(l===0||i.row===0)return"âˆž";const t=transactions();if(!t)return"+";const{row:r}=i,s=t[r];return!s||s.value===0?"+":s.value.fixed()};return(()=>{var t=getNextElement(_tmpl$$6);return t.$$click=()=>o(i.row),insert(t,n),createRenderEffect(r=>{var s=a(),d=l===0||i.row===0;return s!==r.e&&className(t,r.e=s),d!==r.t&&setProperty(t,"disabled",r.t=d),r},{e:void 0,t:void 0}),runHydrationEvents(),t})()}delegateEvents(["click"]);var _tmpl$$5=template("<button>");function BreakButton({index:l,row:i}){const o=n=>{const t=breakInstallments()===n?-1:n;setBreakInstallments(t),calculateForm()},a=()=>{const n=breakInstallments();switch(n){case-1:return" x ";case i:return" ... ";default:return i>n?"":" x "}};return(()=>{var n=getNextElement(_tmpl$$5);return n.$$click=()=>o(i),insert(n,()=>`${a()}`),runHydrationEvents(),n})()}delegateEvents(["click"]);var _tmpl$$4=template('<thead><tr class=bg-slate-700><td class="w-12 p-3">Month</td><td class="w-22 bg-green-700">Net</td><td class="w-22 bg-red-700">Tax</td><td class="w-22 bg-sky-700">Gross</td><td class="w-22 bg-yellow-950">Invested</td><td class="w-22 bg-green-800">Interest</td><td class=bg-green-950>Total');function THead(){return getNextElement(_tmpl$$4)}var _tmpl$$3=template('<div class="w-full mb-3 md:grid-cols-2"><div class="flex border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-900 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"><label class=p-2.5>One line calculator</label><input class="flex-auto bg-transparent text-gray-400 text-sm text-right p-2.5 dark:bg-transparent dark:placeholder-gray-100 dark:text-white outline-none"placeholder=0><div class="min-w-28 p-2.5 text-base dark:text-gray-400">= <!$><!/>');function OneLineCalculator(){const[calc,setCalc]=createSignal(0),handleInputChange=e=>{const{target:{value}}=e;try{const result=eval(value)||0;setCalc(result)}catch(l){setCalc("Err")}},handleOnKeyUp=l=>{l.keyCode===13&&handleInputChange(l)};return(()=>{var l=getNextElement(_tmpl$$3),i=l.firstChild,o=i.firstChild,a=o.nextSibling,n=a.nextSibling,t=n.firstChild,r=t.nextSibling,[s,d]=getNextMarker(r.nextSibling);return a.$$keyup=handleOnKeyUp,a.addEventListener("blur",handleInputChange),insert(n,()=>`${calc()}`,s,d),runHydrationEvents(),l})()}delegateEvents(["keyup"]);var _tmpl$$2=template('<div class=px-4><table class="w-full border-b-stone-300 border-b-2"><!$><!/><tbody><tr><td class=p-3></td><td class=text-green-400></td><td class=text-red-400></td><td class=text-sky-400></td><td class=text-yellow-400></td><td class=text-green-600></td><td class=text-green-700>'),_tmpl$2$1=template('<div><div class="px-4 pt-2"></div><!$><!/>');let shouldShowBanner=!1;function TopBanner(){const[l,i]=createSignal(shouldShowBanner);try{window.addEventListener("scroll",a=>{const n=document.getElementById("results");if(!n)return;const t=n.offsetTop<window.scrollY;shouldShowBanner!==t&&(i(t),shouldShowBanner=t,console.log(t))})}catch{console.log("ssr")}const o=()=>{const a=results();if(!a.length)return"";const n=a[0],{row:t,balance:r,info:s}=n,{net:d,incometax:f,gross:g}=r,{total:u,interest:x,invested:m}=s;return(()=>{var $=getNextElement(_tmpl$$2),b=$.firstChild,p=b.firstChild,[_,v]=getNextMarker(p.nextSibling),h=_.nextSibling,k=h.firstChild,y=k.firstChild,C=y.nextSibling,S=C.nextSibling,w=S.nextSibling,E=w.nextSibling,I=E.nextSibling,T=I.nextSibling;return insert(b,createComponent(THead,{}),_,v),insert(y,t),insert(C,()=>c(d)),insert(S,()=>c(f)),insert(w,()=>c(g)),insert(E,()=>c(m)),insert(I,()=>c(x)),insert(T,()=>c(u)),$})()};return(()=>{var a=getNextElement(_tmpl$2$1),n=a.firstChild,t=n.nextSibling,[r,s]=getNextMarker(t.nextSibling);return insert(n,createComponent(OneLineCalculator,{})),insert(a,o,r,s),createRenderEffect(()=>className(a,`
                fixed
                top-0
                right-0
                w-full
                block
                bg-black
                ${l()?"":"hidden"}
            `)),a})()}var _tmpl$$1=template("<div class=flex><table id=results class=flex-1><!$><!/><tbody>"),_tmpl$2=template("<tr class=odd:bg-slate-900><td class=p-3></td><td class=text-green-400></td><td class=text-red-400></td><td class=text-sky-400></td><td class=text-yellow-400><!$><!/><!$><!/><!$><!/></td><td class=text-green-600></td><td class=text-green-700>");function Info(){return[createComponent(TopBanner,{}),(()=>{var l=getNextElement(_tmpl$$1),i=l.firstChild,o=i.firstChild,[a,n]=getNextMarker(o.nextSibling),t=a.nextSibling;return insert(i,createComponent(THead,{}),a,n),insert(t,createComponent(For,{get each(){return results()},children:(r,s)=>(()=>{var d=getNextElement(_tmpl$2),f=d.firstChild,g=f.nextSibling,u=g.nextSibling,x=u.nextSibling,m=x.nextSibling,$=m.firstChild,[b,p]=getNextMarker($.nextSibling),_=b.nextSibling,[v,h]=getNextMarker(_.nextSibling),k=v.nextSibling,[y,C]=getNextMarker(k.nextSibling),S=m.nextSibling,w=S.nextSibling;return insert(f,()=>r.row),insert(g,()=>c(r.balance.net)),insert(u,()=>c(r.balance.incometax)),insert(x,()=>c(r.balance.gross)),insert(m,()=>c(r.info.invested),b,p),insert(m,createComponent(TransactionButton,{get index(){return s()},result:r}),v,h),insert(m,createComponent(BreakButton,{get index(){return s()},get row(){return r.row}}),y,C),insert(S,()=>c(r.info.interest)),insert(w,()=>c(r.info.total)),d})()})),l})()]}var _tmpl$=template('<main class=text-white><!$><!/><h1 class="mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white">Compound Insterest Calculator</h1><!$><!/><div><header><form><div class="grid gap-6 mb-6 md:grid-cols-5"><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/></div></form><!$><!/>');function HomeView(){const l=o=>a=>{const n=form(),{value:t}=a.target;t&&(setForm({...n,[o]:+t||0}),calculateForm())},i=o=>{setForm({...form(),period:o}),calculateForm()};return(()=>{var o=getNextElement(_tmpl$),a=o.firstChild,[n,t]=getNextMarker(a.nextSibling),r=n.nextSibling,s=r.nextSibling,[d,f]=getNextMarker(s.nextSibling),g=d.nextSibling,u=g.firstChild,x=u.firstChild,m=x.firstChild,$=m.firstChild,[b,p]=getNextMarker($.nextSibling),_=b.nextSibling,[v,h]=getNextMarker(_.nextSibling),k=v.nextSibling,[y,C]=getNextMarker(k.nextSibling),S=y.nextSibling,[w,E]=getNextMarker(S.nextSibling),I=w.nextSibling,[T,F]=getNextMarker(I.nextSibling),H=x.nextSibling,[P,O]=getNextMarker(H.nextSibling);return insert(o,createComponent(Title,{children:"Interest calculator"}),n,t),insert(o,createComponent(OneLineCalculator,{}),d,f),insert(m,createComponent(NumberInput,{min:0,get value(){return form().initial},required:!0,label:"Initial investment",get onKeyUp(){return l("initial")}}),b,p),insert(m,createComponent(NumberInput,{min:0,get value(){return form().installment},required:!0,label:"Installment",get onKeyUp(){return l("installment")}}),v,h),insert(m,createComponent(NumberInput,{min:0,get value(){return form().interest},required:!0,label:"Interest yearly %",suffix:"%",step:".01",get onKeyUp(){return l("interest")}}),y,C),insert(m,createComponent(NumberInput,{min:0,get value(){return form().period},required:!0,label:"Period",onChange:i,select:initialPeriodOptions}),w,E),insert(m,createComponent(NumberInput,{min:0,get value(){return form().incomeTax},required:!0,label:"Income tax %",step:".01",get onKeyUp(){return l("incomeTax")}}),T,F),insert(u,createComponent(Info,{}),P,O),createRenderEffect(N=>{var B=styles.App,M=styles.header;return B!==N.e&&className(g,N.e=B),M!==N.t&&className(u,N.t=M),N},{e:void 0,t:void 0}),o})()}function Home(){return createComponent(HomeView,{})}export{Home as default};
